{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import\"../css/style.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const navigate=useNavigate();const[post,setpost]=useState([]);const onSubmit=async(req,res)=>{try{await axios.get(\"/api/v1/users/logout\");navigate(\"/api/v1/users/login\");}catch(error){console.log(error);}};useEffect(()=>{const fetchPosts=async()=>{try{const response=await axios.get('/api/v1/users/home');setpost(response.data.data);}catch(error){console.log(error);}};fetchPosts();},[]);const navi=()=>{navigate('/api/v1/post/Cpost');};return/*#__PURE__*/_jsxs(\"div\",{className:\"background-image\",children:[/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"ga\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gap\",id:\"aa\",onClick:()=>navigate('/api/v1/users/home'),children:\"Home\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gap\",onClick:navi,children:\"Create Post\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gap\",onClick:()=>navigate('/api/v1/post/'),children:\"My Posts\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gap\",onClick:()=>navigate('/api/v1/post/profile'),children:\"Profile\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gap\",onClick:onSubmit,children:\"Logout\"})]})}),/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\"},children:\"ZESTY ZONE\"}),/*#__PURE__*/_jsx(\"div\",{id:\"bh\",children:post&&Array.isArray(post)&&post.length>0?post.map(i=>{var _i$author;return/*#__PURE__*/_jsxs(\"div\",{className:\"post-box\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Title: \",i.title]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Excerpt: \",i.excerpt]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Content: \",i.content]})}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"By \",(_i$author=i.author)===null||_i$author===void 0?void 0:_i$author.Name,\" on \",new Date(i.date).toLocaleDateString()]})]},i._id);}):/*#__PURE__*/_jsx(\"h1\",{children:\"No post Available\"})})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Home","navigate","post","setpost","onSubmit","req","res","get","error","console","log","fetchPosts","response","data","navi","className","children","id","onClick","style","textAlign","Array","isArray","length","map","i","_i$author","title","excerpt","content","author","Name","Date","date","toLocaleDateString","_id"],"sources":["/home/akshat/Documents/coding items/Blog/server/client/src/controllers/homepage.js"],"sourcesContent":["import React, { useEffect, useState } from'react'\nimport {useNavigate} from 'react-router-dom'\nimport axios from 'axios'\nimport \"../css/style.css\"\nfunction Home(){\n  const navigate=useNavigate()\n  const [post,setpost]=useState([])\n  const onSubmit=async(req,res)=>{\n    try {\n      await axios.get(\"/api/v1/users/logout\")\n      navigate(\"/api/v1/users/login\")\n    } catch (error) {\n     console.log(error);\n    }\n }\n  useEffect(()=>{\n    const fetchPosts=async()=>{\ntry {\n        const response=await axios.get('/api/v1/users/home')\n    setpost(response.data.data)\n} catch (error) {\n  console.log(error);\n  \n}    }\nfetchPosts()\n  },[])\n  const navi=()=>{\n    navigate('/api/v1/post/Cpost')\n  }\n    return(\n<div className=\"background-image\">\n<nav>\n  <div id='ga'>\n    <span className='gap'id='aa' onClick={()=>navigate('/api/v1/users/home')}>Home</span>\n    <span className='gap' onClick={navi}>Create Post</span>\n    <span className='gap' onClick={()=>navigate('/api/v1/post/')}>My Posts</span>\n    <span className='gap'onClick={()=>navigate('/api/v1/post/profile')} >Profile</span>\n    <span className='gap' onClick={onSubmit}>Logout</span>\n  </div>\n</nav>\n<h1 style={{textAlign:\"center\"}}>ZESTY ZONE</h1>\n<div id='bh'>\n  {post && Array.isArray(post) && post.length>0?(\n    post.map((i)=>(\n      <div key={i._id} className='post-box'>\n        <h2>Title: {i.title}</h2>\n        <h3>Excerpt: {i.excerpt}</h3>\n        <p ><b>Content: {i.content}</b></p>\n      <h3>By {i.author?.Name} on {new Date(i.date).toLocaleDateString()}</h3>\n      </div>\n    ))):(<h1>No post Available</h1>)\n  }\n</div>\n</div>)\n}\nexport default Home"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}