{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[data,setData]=useState({\"Name\":\"\",\"username\":\"\",\"password\":\"\",\"ConfirmPassword\":\"\",\"Email\":\"\",\"phoneNumber\":\"\"});const[image,setimage]=useState(null);const navigate=useNavigate();const onHandle=e=>{setData({...data,[e.target.name]:e.target.value});};const Handleimagechange=e=>{setimage(e.target.files[0]);};// Store the selected image file\nconst handleSubmit=async e=>{e.preventDefault();//prevent page reload\nif(data.password.length<8){alert(\"Password must be at least 8 characters long\");return;// Stop form submission\n}const formData=new FormData();formData.append(\"Name\",data.Name);formData.append(\"username\",data.username);formData.append(\"password\",data.password);formData.append(\"ConfirmPassword\",data.ConfirmPassword);formData.append(\"Email\",data.Email);formData.append(\"phoneNumber\",data.phoneNumber);if(image)formData.append(\"avatar\",image);// Append image if it exists\ntry{const response=await axios.post('/api/v1/users/register',formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});navigate('/api/v1/users/login');setData(response.data);}catch(error){console.log(error);}//reset the data after form submission\nsetData({\"Name\":\"\",\"username\":\"\",\"password\":\"\",\"ConfirmPassword\":\"\",\"Email\":\"\",\"phoneNumber\":\"\"});setimage(null);};const filled=data.username&&data.password&&data.Email&&data.phoneNumber&&data.Name;const sub=()=>{navigate('/api/v1/users/login');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\"},children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sub,style:{fontSize:\"20px\"},type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{style:{color:\"white\",textAlign:\"center\",fontSize:\"25px\"},children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name: \"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Name\",placeholder:\"Name\",value:data.Name,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Username:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Your Username\",value:data.username,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Create a Password:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Your password\",value:data.password,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Confirm Password:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"ConfirmPassword\",placeholder:\"confirm password\",value:data.ConfirmPassword,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"Email\",placeholder:\"Your email\",value:data.Email,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"PhoneNumber:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phoneNumber\",placeholder:\"Your phoneNumber\",value:data.phoneNumber,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Profile Image:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",onChange:Handleimagechange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:!filled,children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Register\"})]})]})})]});}export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","data","setData","image","setimage","navigate","onHandle","e","target","name","value","Handleimagechange","files","handleSubmit","preventDefault","password","length","alert","formData","FormData","append","Name","username","ConfirmPassword","Email","phoneNumber","response","post","headers","error","console","log","filled","sub","children","style","textAlign","onClick","fontSize","type","onSubmit","color","placeholder","onChange","disabled"],"sources":["/home/akshat/Documents/coding items/PersonalBlog/Backend/frontend/src/controllers/register.js"],"sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\nimport {useNavigate} from 'react-router-dom'\nfunction Register() {\n  const [data,setData] =useState({\n    \"Name\":\"\",\n    \"username\":\"\",\n    \"password\":\"\",\n    \"ConfirmPassword\":\"\",\n    \"Email\":\"\",\n    \"phoneNumber\":\"\"\n  })\n  const [image,setimage]=useState(null)\n  const navigate=useNavigate()\n  const onHandle=(e)=>{ setData({...data,[e.target.name]:e.target.value})}\n  const Handleimagechange=(e)=>{setimage(e.target.files[0])}   // Store the selected image file\n  const handleSubmit=async(e)=>{\n    e.preventDefault();  //prevent page reload\n    if (data.password.length < 8) {\n      alert(\"Password must be at least 8 characters long\");\n      return;  // Stop form submission\n    } \n    const formData=new FormData()\n    formData.append(\"Name\", data.Name);\n    formData.append(\"username\", data.username);\n    formData.append(\"password\", data.password);\n    formData.append(\"ConfirmPassword\", data.ConfirmPassword);\n    formData.append(\"Email\", data.Email);\n    formData.append(\"phoneNumber\", data.phoneNumber);\n    if (image) formData.append(\"avatar\", image); // Append image if it exists\n     try {\n      const response= await axios.post('/api/v1/users/register',formData,{headers:{\"Content-Type\":\"multipart/form-data\"}})\n      navigate('/api/v1/users/login')\n     setData(response.data)\n     } catch (error) {\n      console.log(error);\n     }\n     //reset the data after form submission\n     setData({\n      \"Name\":\"\",\n      \"username\":\"\",\n      \"password\":\"\",\n      \"ConfirmPassword\":\"\",\n      \"Email\":\"\",\n      \"phoneNumber\":\"\"\n    })\n    setimage(null)\n  }\n  const filled=data.username&&data.password&&data.Email&&data.phoneNumber&&data.Name\n  const sub=()=>{\n    navigate('/api/v1/users/login')\n  }\n  return (\n    <div >\n      <h1 style={{textAlign:\"center\"}}>Sign Up</h1>\n      <button onClick={sub} style={{fontSize:\"20px\"}}type='submit'>Login</button>\n     \n      <br /><br />\n     <form onSubmit={handleSubmit}>\n     <div style={{color:\"white\",textAlign:\"center\",fontSize:\"25px\"}}>\n     <span><b>Name: </b> </span>\n     <input type='text'name='Name' placeholder='Name' value={data.Name}onChange={onHandle} /><br /><br />\n        <span><b>Username:</b>  </span>\n        <input type='text'name='username' placeholder='Your Username' value={data.username}onChange={onHandle} /><br /><br />\n        <span> <b>Create a Password:</b>  </span>\n        <input type='password' name='password'placeholder='Your password'value={data.password} onChange={onHandle}/><br /><br />\n        <span> <b>Confirm Password:</b>  </span>\n        <input type='password' name='ConfirmPassword'placeholder='confirm password'value={data.ConfirmPassword} onChange={onHandle}/><br /><br />\n        <span><b>Email:</b>  </span>\n        <input type='email'name='Email' placeholder='Your email' value={data.Email}onChange={onHandle}/><br /><br />\n        <span><b>PhoneNumber:</b>  </span>\n        <input type='tel'name='phoneNumber' placeholder='Your phoneNumber' value={data.phoneNumber} onChange={onHandle}/><br /><br />\n        <span> <b>Profile Image:</b>  </span>\n        <input type='file' name='image' onChange={Handleimagechange} /><br /><br /> {/* Image input */}\n        <button type=\"submit\" disabled={!filled}> <b>Register</b></button>\n      </div>\n     </form>\n    </div>\n  );\n}\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}