{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[data,setData]=useState({\"Name\":\"\",\"username\":\"\",\"password\":\"\",\"ConfirmPassword\":\"\",\"Email\":\"\",\"phoneNumber\":\"\"});const[image,setimage]=useState(null);const navigate=useNavigate();const onHandle=e=>{setData({...data,[e.target.name]:e.target.value});};const Handleimagechange=e=>{setimage(e.target.files[0]);};// Store the selected image file\nconst handleSubmit=async e=>{e.preventDefault();//prevent page reload\nconsole.log(data);const formData=new FormData();formData.append(\"Name\",data.Name);formData.append(\"username\",data.username);formData.append(\"password\",data.password);formData.append(\"ConfirmPassword\",data.ConfirmPassword);formData.append(\"Email\",data.Email);formData.append(\"phoneNumber\",data.phoneNumber);if(image)formData.append(\"avatar\",image);// Append image if it exists\ntry{const response=await axios.post('/api/v1/users/register',formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});navigate('/api/v1/users/login');setData(response.data);}catch(error){console.log(error);}//reset the data after form submission\nsetData({\"Name\":\"\",\"username\":\"\",\"password\":\"\",\"ConfirmPassword\":\"\",\"Email\":\"\",\"phoneNumber\":\"\"});setimage(null);};const filled=data.username&&data.password&&data.Email&&data.phoneNumber&&data.Name;const sub=()=>{navigate('/api/v1/users/login');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\"},children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sub,style:{fontSize:\"20px\"},type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{style:{color:\"white\",textAlign:\"center\",fontSize:\"25px\"},children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name: \"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Name\",placeholder:\"Name\",value:data.Name,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Username:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Your Username\",value:data.username,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Create a Password:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Your password\",value:data.password,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Confirm Password:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"ConfirmPassword\",placeholder:\"confirm password\",value:data.ConfirmPassword,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"Email\",placeholder:\"Your email\",value:data.Email,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"PhoneNumber:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phoneNumber\",placeholder:\"Your phoneNumber\",value:data.phoneNumber,onChange:onHandle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Profile Image:\"}),\"  \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",onChange:Handleimagechange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:!filled,children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Register\"})]})]})})]});}export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","data","setData","image","setimage","navigate","onHandle","e","target","name","value","Handleimagechange","files","handleSubmit","preventDefault","console","log","formData","FormData","append","Name","username","password","ConfirmPassword","Email","phoneNumber","response","post","headers","error","filled","sub","children","style","textAlign","onClick","fontSize","type","onSubmit","color","placeholder","onChange","disabled"],"sources":["/home/akshat/Documents/coding items/Blog/frontend/src/controllers/register.js"],"sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\nimport {useNavigate} from 'react-router-dom'\nfunction Register() {\n  const [data,setData] =useState({\n    \"Name\":\"\",\n    \"username\":\"\",\n    \"password\":\"\",\n    \"ConfirmPassword\":\"\",\n    \"Email\":\"\",\n    \"phoneNumber\":\"\"\n  })\n  const [image,setimage]=useState(null)\n  const navigate=useNavigate()\n  const onHandle=(e)=>{ setData({...data,[e.target.name]:e.target.value})}\n  const Handleimagechange=(e)=>{setimage(e.target.files[0])}   // Store the selected image file\n  const handleSubmit=async(e)=>{\n    e.preventDefault();   //prevent page reload\n    console.log(data);\n    const formData=new FormData()\n    formData.append(\"Name\", data.Name);\n    formData.append(\"username\", data.username);\n    formData.append(\"password\", data.password);\n    formData.append(\"ConfirmPassword\", data.ConfirmPassword);\n    formData.append(\"Email\", data.Email);\n    formData.append(\"phoneNumber\", data.phoneNumber);\n    if (image) formData.append(\"avatar\", image); // Append image if it exists\n     try {\n      const response= await axios.post('/api/v1/users/register',formData,{headers:{\"Content-Type\":\"multipart/form-data\"}})\n      navigate('/api/v1/users/login')\n     setData(response.data)\n     } catch (error) {\n      console.log(error);\n     }\n     //reset the data after form submission\n     setData({\n      \"Name\":\"\",\n      \"username\":\"\",\n      \"password\":\"\",\n      \"ConfirmPassword\":\"\",\n      \"Email\":\"\",\n      \"phoneNumber\":\"\"\n    })\n    setimage(null)\n  }\n  const filled=data.username&&data.password&&data.Email&&data.phoneNumber&&data.Name\n  const sub=()=>{\n    navigate('/api/v1/users/login')\n  }\n  return (\n    <div >\n      <h1 style={{textAlign:\"center\"}}>Sign Up</h1>\n      <button onClick={sub} style={{fontSize:\"20px\"}}type='submit'>Login</button>\n     \n      <br /><br />\n     <form onSubmit={handleSubmit}>\n     <div style={{color:\"white\",textAlign:\"center\",fontSize:\"25px\"}}>\n     <span><b>Name: </b> </span>\n     <input type='text'name='Name' placeholder='Name' value={data.Name}onChange={onHandle} /><br /><br />\n        <span><b>Username:</b>  </span>\n        <input type='text'name='username' placeholder='Your Username' value={data.username}onChange={onHandle} /><br /><br />\n        <span> <b>Create a Password:</b>  </span>\n        <input type='password' name='password'placeholder='Your password'value={data.password} onChange={onHandle}/><br /><br />\n        <span> <b>Confirm Password:</b>  </span>\n        <input type='password' name='ConfirmPassword'placeholder='confirm password'value={data.ConfirmPassword} onChange={onHandle}/><br /><br />\n        <span><b>Email:</b>  </span>\n        <input type='email'name='Email' placeholder='Your email' value={data.Email}onChange={onHandle}/><br /><br />\n        <span><b>PhoneNumber:</b>  </span>\n        <input type='tel'name='phoneNumber' placeholder='Your phoneNumber' value={data.phoneNumber} onChange={onHandle}/><br /><br />\n        <span> <b>Profile Image:</b>  </span>\n        <input type='file' name='image' onChange={Handleimagechange} /><br /><br /> {/* Image input */}\n        <button type=\"submit\" disabled={!filled}> <b>Register</b></button>\n      </div>\n     </form>\n    </div>\n  );\n}\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}